<html>
<head><meta charset="utf-8" /></head>
<body>
    <div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.35.2.min.js"></script>                <div id="3c5d9e94-9997-4924-9789-8d635c06ddbe" class="plotly-graph-div" style="height:1000px; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3c5d9e94-9997-4924-9789-8d635c06ddbe")) {                    Plotly.newPlot(                        "3c5d9e94-9997-4924-9789-8d635c06ddbe",                        [{"arrangement":"snap","link":{"color":["rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)","rgba(180, 180, 180, 0.2)"],"customdata":[[4,"rgba(72, 36, 117, 0.77)"],[4,"rgba(72, 36, 117, 0.77)"],[5,"rgba(72, 36, 117, 0.90)"],[5,"rgba(72, 36, 117, 0.90)"],[5,"rgba(72, 36, 117, 0.90)"],[3,"rgba(72, 36, 117, 0.64)"],[3,"rgba(72, 36, 117, 0.64)"],[4,"rgba(72, 36, 117, 0.77)"],[4,"rgba(53, 95, 141, 0.77)"],[2,"rgba(53, 95, 141, 0.51)"],[4,"rgba(53, 95, 141, 0.77)"],[4,"rgba(53, 95, 141, 0.77)"],[5,"rgba(53, 95, 141, 0.90)"],[3,"rgba(53, 95, 141, 0.64)"],[5,"rgba(53, 95, 141, 0.90)"],[3,"rgba(53, 95, 141, 0.64)"],[4,"rgba(53, 95, 141, 0.77)"],[4,"rgba(53, 95, 141, 0.77)"],[3,"rgba(53, 95, 141, 0.64)"],[4,"rgba(53, 95, 141, 0.77)"],[2,"rgba(53, 95, 141, 0.51)"],[3,"rgba(33, 145, 140, 0.64)"],[5,"rgba(33, 145, 140, 0.90)"],[3,"rgba(33, 145, 140, 0.64)"],[3,"rgba(33, 145, 140, 0.64)"],[3,"rgba(33, 145, 140, 0.64)"],[5,"rgba(33, 145, 140, 0.90)"],[4,"rgba(33, 145, 140, 0.77)"],[4,"rgba(68, 191, 112, 0.77)"],[5,"rgba(68, 191, 112, 0.90)"],[3,"rgba(68, 191, 112, 0.64)"],[4,"rgba(68, 191, 112, 0.77)"],[4,"rgba(189, 223, 38, 0.77)"],[4,"rgba(189, 223, 38, 0.77)"],[2,"rgba(189, 223, 38, 0.51)"],[3,"rgba(189, 223, 38, 0.64)"],[5,"rgba(189, 223, 38, 0.90)"],[5,"rgba(189, 223, 38, 0.90)"],[5,"rgba(189, 223, 38, 0.90)"],[5,"rgba(189, 223, 38, 0.90)"],[5,"rgba(189, 223, 38, 0.90)"],[4,"rgba(189, 223, 38, 0.77)"],[3,"rgba(189, 223, 38, 0.64)"],[5,"rgba(189, 223, 38, 0.90)"],[4,"rgba(189, 223, 38, 0.77)"],[3,"rgba(189, 223, 38, 0.64)"],[4,"rgba(189, 223, 38, 0.77)"],[2,"rgba(189, 223, 38, 0.51)"],[5,"rgba(72, 36, 117, 0.90)"],[4,"rgba(72, 36, 117, 0.77)"],[3,"rgba(72, 36, 117, 0.64)"],[4,"rgba(72, 36, 117, 0.77)"],[5,"rgba(45, 112, 142, 0.90)"],[4,"rgba(45, 112, 142, 0.77)"],[4,"rgba(45, 112, 142, 0.77)"],[5,"rgba(42, 176, 127, 0.90)"],[5,"rgba(42, 176, 127, 0.90)"],[5,"rgba(42, 176, 127, 0.90)"],[3,"rgba(42, 176, 127, 0.64)"],[4,"rgba(189, 223, 38, 0.77)"],[4,"rgba(189, 223, 38, 0.77)"],[5,"rgba(72, 36, 117, 0.90)"],[4,"rgba(72, 36, 117, 0.77)"],[5,"rgba(72, 36, 117, 0.90)"],[4,"rgba(45, 112, 142, 0.77)"],[4,"rgba(45, 112, 142, 0.77)"],[3,"rgba(42, 176, 127, 0.64)"],[3,"rgba(42, 176, 127, 0.64)"],[5,"rgba(42, 176, 127, 0.90)"],[4,"rgba(189, 223, 38, 0.77)"],[4,"rgba(189, 223, 38, 0.77)"],[4,"rgba(72, 36, 117, 0.77)"],[5,"rgba(72, 36, 117, 0.90)"],[3,"rgba(72, 36, 117, 0.64)"],[4,"rgba(33, 145, 140, 0.77)"],[3,"rgba(33, 145, 140, 0.64)"],[4,"rgba(189, 223, 38, 0.77)"],[4,"rgba(189, 223, 38, 0.77)"],[5,"rgba(65, 4, 157, 0.90)"],[4,"rgba(65, 4, 157, 0.77)"],[4,"rgba(65, 4, 157, 0.77)"],[4,"rgba(166, 32, 152, 0.77)"],[3,"rgba(166, 32, 152, 0.64)"],[4,"rgba(166, 32, 152, 0.77)"],[3,"rgba(231, 111, 90, 0.64)"],[3,"rgba(231, 111, 90, 0.64)"],[5,"rgba(231, 111, 90, 0.90)"],[4,"rgba(252, 206, 37, 0.77)"],[4,"rgba(252, 206, 37, 0.77)"],[4,"rgba(252, 206, 37, 0.77)"],[4,"rgba(8, 51, 112, 0.77)"],[3,"rgba(8, 51, 112, 0.64)"],[4,"rgba(125, 124, 120, 0.77)"],[3,"rgba(125, 124, 120, 0.64)"],[3,"rgba(229, 207, 82, 0.64)"],[3,"rgba(229, 207, 82, 0.64)"],[5,"rgba(50, 0, 0, 0.90)"],[4,"rgba(50, 0, 0, 0.77)"],[4,"rgba(50, 0, 0, 0.77)"],[4,"rgba(255, 128, 1, 0.77)"],[4,"rgba(255, 128, 1, 0.77)"],[3,"rgba(255, 255, 205, 0.64)"],[3,"rgba(255, 255, 205, 0.64)"],[4,"rgba(255, 255, 205, 0.77)"],[5,"rgba(20, 14, 54, 0.90)"],[4,"rgba(20, 14, 54, 0.77)"],[5,"rgba(20, 14, 54, 0.90)"],[4,"rgba(20, 14, 54, 0.77)"],[3,"rgba(20, 14, 54, 0.64)"],[5,"rgba(100, 26, 128, 0.90)"],[4,"rgba(100, 26, 128, 0.77)"],[3,"rgba(183, 55, 121, 0.64)"],[5,"rgba(183, 55, 121, 0.90)"],[4,"rgba(183, 55, 121, 0.77)"],[4,"rgba(247, 112, 92, 0.77)"],[5,"rgba(247, 112, 92, 0.90)"],[4,"rgba(247, 112, 92, 0.77)"],[5,"rgba(247, 112, 92, 0.90)"],[3,"rgba(254, 207, 146, 0.64)"],[3,"rgba(254, 207, 146, 0.64)"],[3,"rgba(254, 207, 146, 0.64)"],[3,"rgba(22, 11, 57, 0.64)"],[4,"rgba(22, 11, 57, 0.77)"],[5,"rgba(22, 11, 57, 0.90)"],[3,"rgba(79, 13, 108, 0.64)"],[4,"rgba(79, 13, 108, 0.77)"],[3,"rgba(133, 33, 107, 0.64)"],[4,"rgba(133, 33, 107, 0.77)"],[4,"rgba(188, 55, 84, 0.77)"],[4,"rgba(230, 93, 47, 0.77)"],[2,"rgba(230, 93, 47, 0.51)"],[3,"rgba(251, 150, 6, 0.64)"],[3,"rgba(251, 150, 6, 0.64)"],[3,"rgba(246, 215, 70, 0.64)"],[3,"rgba(246, 215, 70, 0.64)"],[2,"rgba(72, 36, 117, 0.51)"],[4,"rgba(72, 36, 117, 0.77)"],[3,"rgba(72, 36, 117, 0.64)"],[3,"rgba(45, 112, 142, 0.64)"],[5,"rgba(42, 176, 127, 0.90)"],[3,"rgba(42, 176, 127, 0.64)"],[3,"rgba(189, 223, 38, 0.64)"],[5,"rgba(189, 223, 38, 0.90)"],[4,"rgba(189, 223, 38, 0.77)"],[5,"rgba(35, 139, 69, 0.90)"],[4,"rgba(0, 109, 44, 0.77)"],[4,"rgba(0, 68, 27, 0.77)"],[3,"rgba(241, 105, 19, 0.64)"],[5,"rgba(241, 105, 19, 0.90)"],[3,"rgba(217, 72, 1, 0.64)"],[5,"rgba(217, 72, 1, 0.90)"],[5,"rgba(166, 54, 3, 0.90)"],[4,"rgba(127, 39, 4, 0.77)"],[5,"rgba(33, 113, 181, 0.90)"],[2,"rgba(33, 113, 181, 0.51)"],[4,"rgba(8, 81, 156, 0.77)"],[5,"rgba(8, 48, 107, 0.90)"],[5,"rgba(106, 81, 163, 0.90)"],[2,"rgba(106, 81, 163, 0.51)"],[5,"rgba(84, 39, 143, 0.90)"],[2,"rgba(84, 39, 143, 0.51)"],[5,"rgba(63, 0, 125, 0.90)"],[2,"rgba(63, 0, 125, 0.51)"],[4,"rgba(63, 0, 125, 0.77)"]],"hovertemplate":"From: %{source.label}\u003cbr\u003eTo: %{target.label}\u003cbr\u003eWeight: %{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","source":[0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,6,6,6,7,7,7,7,8,8,9,9,9,10,10,11,11,11,12,12,13,13,13,14,14,15,15,16,16,16,17,17,17,18,18,18,19,19,19,20,20,21,21,22,22,23,23,23,24,24,25,25,25,26,26,26,26,26,27,27,28,28,28,29,29,29,29,30,30,30,31,31,31,32,32,33,33,34,35,35,36,36,37,37,38,38,38,39,40,40,41,41,41,42,43,44,45,45,46,46,47,48,49,49,50,51,52,52,53,53,54,54,54],"target":[5,6,7,9,13,18,20,23,5,6,7,9,10,11,12,14,16,19,20,21,22,5,7,14,17,20,23,24,9,10,13,15,5,6,8,9,10,11,12,15,16,17,18,19,21,22,24,25,28,39,40,42,28,39,42,26,27,29,38,40,53,26,27,29,26,29,27,28,30,26,27,27,31,46,30,46,34,43,30,35,48,30,37,48,30,46,48,36,37,48,38,41,41,52,39,41,26,29,40,40,53,38,41,54,31,32,49,50,51,31,50,31,50,51,31,32,33,49,26,37,50,42,44,45,44,45,44,47,43,46,48,46,48,46,48,50,52,54,50,53,54,50,52,54,56,56,56,56,60,56,61,62,63,55,56,55,55,57,60,58,59,59,61,64],"value":[4,4,5,5,5,3,3,4,4,2,4,4,5,3,5,3,4,4,3,4,2,3,5,3,3,3,5,4,4,5,3,4,4,4,2,3,5,5,5,5,5,4,3,5,4,3,4,2,5,4,3,4,5,4,4,5,5,5,3,4,4,5,4,5,4,4,3,3,5,4,4,4,5,3,4,3,4,4,5,4,4,4,3,4,3,3,5,4,4,4,4,3,4,3,3,3,5,4,4,4,4,3,3,4,5,4,5,4,3,5,4,3,5,4,4,5,4,5,3,3,3,3,4,5,3,4,3,4,4,4,2,3,3,3,3,2,4,3,3,5,3,3,5,4,5,4,4,3,5,3,5,5,4,5,2,4,5,5,2,5,2,5,2,4]},"node":{"color":["#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3","#d3d3d3"],"customdata":[["Technical Capabilities","#482475"],["Technical Capabilities","#355f8d"],["Technical Capabilities","#21918c"],["Technical Capabilities","#44bf70"],["Technical Capabilities","#bddf26"],["Antibiotic Management","#482475"],["Antibiotic Management","#2d708e"],["Antibiotic Management","#2ab07f"],["Antibiotic Management","#bddf26"],["Diagnostic Certainty","#482475"],["Diagnostic Certainty","#2d708e"],["Diagnostic Certainty","#2ab07f"],["Diagnostic Certainty","#bddf26"],["Workflow Enhancement","#482475"],["Workflow Enhancement","#21918c"],["Workflow Enhancement","#bddf26"],["Cognitive Load Reduction","#41049d"],["Cognitive Load Reduction","#a62098"],["Cognitive Load Reduction","#e76f5a"],["Cognitive Load Reduction","#fcce25"],["Infection Containment","#083370"],["Infection Containment","#7d7c78"],["Infection Containment","#e5cf52"],["AMR Management","#320000"],["AMR Management","#ff8001"],["AMR Management","#ffffcd"],["Clinical Outcomes","#140e36"],["Clinical Outcomes","#641a80"],["Clinical Outcomes","#b73779"],["Clinical Outcomes","#f7705c"],["Clinical Outcomes","#fecf92"],["Resource Outcomes","#160b39"],["Resource Outcomes","#4f0d6c"],["Resource Outcomes","#85216b"],["Resource Outcomes","#bc3754"],["Resource Outcomes","#e65d2f"],["Resource Outcomes","#fb9606"],["Resource Outcomes","#f6d746"],["Population Outcomes","#482475"],["Population Outcomes","#2d708e"],["Population Outcomes","#2ab07f"],["Population Outcomes","#bddf26"],["Economic Benefits","#238b45"],["Economic Benefits","#006d2c"],["Economic Benefits","#00441b"],["Capacity Benefits","#f16913"],["Capacity Benefits","#d94801"],["Capacity Benefits","#a63603"],["Capacity Benefits","#7f2704"],["Health Benefits","#2171b5"],["Health Benefits","#08519c"],["Health Benefits","#08306b"],["Population Benefits","#6a51a3"],["Population Benefits","#54278f"],["Population Benefits","#3f007d"],["Aggregated Metrics","#252525"],["Aggregated Metrics","#000000"],["Population Health Metrics","#cb181d"],["Population Health Metrics","#a50f15"],["Population Health Metrics","#67000d"],["Capacity Metrics","#fe9929"],["Capacity Metrics","#ec7014"],["Capacity Metrics","#cc4c02"],["Capacity Metrics","#993404"],["Capacity Metrics","#662506"]],"hovertemplate":"\u003cb\u003e%{label}\u003c\u002fb\u003e\u003cbr\u003eGroup: %{customdata[0]}\u003cextra\u003e\u003c\u002fextra\u003e","label":["T_1: Rapid Results","T_2: Species Resolution","T_3: Resistance Detection","T_4: Culture Independence","T_5: Comprehensive Analysis","M_1_1: De-escalation","M_1_2: Prevent Unnecessary Use","M_1_3: Optimal Initial Regimen","M_1_4: Selection Pressure Reduction","M_2_1: Time-critical Identification","M_2_2: Unexpected Organisms","M_2_3: Non-infectious Confirmation","M_2_4: Polymicrobial Detection","M_3_1: Timeline Compression","M_3_2: Decision Support","M_3_3: Unified Diagnostics","M_4_1: Differential Narrowing","M_4_2: Decision Complexity Reduction","M_4_3: Cognitive Offloading","M_4_4: Confidence Enhancement","M_5_1: Isolation Implementation","M_5_2: Track & Trace","M_5_3: Environmental Intervention","M_6_1: AMR Therapy","M_6_2: Resistance Surveillance","M_6_3: Protocol Implementation","O_1_1: Treatment Effectiveness","O_1_2: Time to Resolution","O_1_3: Adverse Event Reduction","O_1_4: Reduced Deterioration","O_1_5: Decision Quality","O_2_1: Length of Stay","O_2_2: ICU Utilization","O_2_3: Ventilator Days","O_2_4: Diagnostic Resource Use","O_2_5: Consultation Reduction","O_2_6: Context-specific Optimization","O_2_7: Expertise Reallocation","O_3_1: HAI Transmission","O_3_2: C. difficile Incidence","O_3_3: AMR Emergence","O_3_4: Outbreak Containment","V_1_1: Pharmaceutical Savings","V_1_2: Diagnostic Cost Avoidance","V_1_3: Supply Cost Reduction","V_2_1: Bed Capacity","V_2_2: Staff Time","V_2_3: Equipment Utilization","V_2_4: Staff Wellbeing","V_3_1: Mortality Reduction","V_3_2: Morbidity Reduction","V_3_3: Quality of Life","V_4_1: Outbreak Prevention","V_4_2: Antibiotic Preservation","V_4_3: System Resilience","F_1: QALYs","F_2: Cash-Releasing Savings (£)","F_3_1: Outbreak Events Avoided","F_3_2: Antibiotic Effectiveness Index","F_3_3: System Adaptation Index","F_4_1: Bed Days Available","F_4_2: Clinical Hours Freed","F_4_3: Equipment Utilization Rate","F_4_4: Staff Satisfaction Score","F_4_5: System Response Time"],"line":{"color":"grey","width":0.5},"pad":12,"thickness":30},"type":"sankey"}],                        {"uirevision":"sankey_layout_v2_full_path","template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"title":{"text":"Taxonomy Value Chain (Hover Node for Full Path)","x":0.5},"font":{"size":10},"margin":{"t":100,"l":200,"r":50,"b":50},"height":1000,"annotations":[{"font":{"size":12},"showarrow":false,"text":"\u003cb\u003eTechnical (T)\u003c\u002fb\u003e","x":0.05,"xanchor":"center","xref":"paper","y":1.04,"yref":"paper"},{"font":{"size":12},"showarrow":false,"text":"\u003cb\u003eMechanisms (M)\u003c\u002fb\u003e","x":0.2750000000000001,"xanchor":"center","xref":"paper","y":1.04,"yref":"paper"},{"font":{"size":12},"showarrow":false,"text":"\u003cb\u003eOutcomes (O)\u003c\u002fb\u003e","x":0.49999999999999994,"xanchor":"center","xref":"paper","y":1.04,"yref":"paper"},{"font":{"size":12},"showarrow":false,"text":"\u003cb\u003eValues (V)\u003c\u002fb\u003e","x":0.7249999999999999,"xanchor":"center","xref":"paper","y":1.04,"yref":"paper"},{"font":{"size":12},"showarrow":false,"text":"\u003cb\u003eMetrics (F)\u003c\u002fb\u003e","x":0.9499999999999998,"xanchor":"center","xref":"paper","y":1.04,"yref":"paper"}]},                        {"responsive": true}                    ).then(function(){
                            
    // NOTE: DO NOT include <script> tags here. Plotly adds them.

    function initSankeyHoverFullPath() { // New function name
        console.log("Attempting to initialize Sankey hover (Full Path)...");
        var graphDivId = JSON.parse('"sankey_layout_v2_full_path"');
        var graphDiv = document.getElementById(graphDivId);

        if (!graphDiv) { // Keep fallback div finding
            var divs = document.getElementsByClassName('plotly-graph-div');
            if (divs.length > 0) { graphDiv = divs[0]; }
            else { console.error("Plotly graph div not found."); return; }
        }
        if (typeof Plotly === 'undefined') { console.error("Plotly library not loaded yet."); return; }

        console.log("Plotly graph div found. Attaching hover events (Full Path).");

       // --- Data passed from Python ---
       const initialNodeColors = JSON.parse('["#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3", "#d3d3d3"]');
       const initialLinkColors = JSON.parse('["rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)", "rgba(180, 180, 180, 0.2)"]');
       const linkSources = JSON.parse('[0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 6, 6, 6, 7, 7, 7, 7, 8, 8, 9, 9, 9, 10, 10, 11, 11, 11, 12, 12, 13, 13, 13, 14, 14, 15, 15, 16, 16, 16, 17, 17, 17, 18, 18, 18, 19, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 23, 24, 24, 25, 25, 25, 26, 26, 26, 26, 26, 27, 27, 28, 28, 28, 29, 29, 29, 29, 30, 30, 30, 31, 31, 31, 32, 32, 33, 33, 34, 35, 35, 36, 36, 37, 37, 38, 38, 38, 39, 40, 40, 41, 41, 41, 42, 43, 44, 45, 45, 46, 46, 47, 48, 49, 49, 50, 51, 52, 52, 53, 53, 54, 54, 54]');
       const linkTargets = JSON.parse('[5, 6, 7, 9, 13, 18, 20, 23, 5, 6, 7, 9, 10, 11, 12, 14, 16, 19, 20, 21, 22, 5, 7, 14, 17, 20, 23, 24, 9, 10, 13, 15, 5, 6, 8, 9, 10, 11, 12, 15, 16, 17, 18, 19, 21, 22, 24, 25, 28, 39, 40, 42, 28, 39, 42, 26, 27, 29, 38, 40, 53, 26, 27, 29, 26, 29, 27, 28, 30, 26, 27, 27, 31, 46, 30, 46, 34, 43, 30, 35, 48, 30, 37, 48, 30, 46, 48, 36, 37, 48, 38, 41, 41, 52, 39, 41, 26, 29, 40, 40, 53, 38, 41, 54, 31, 32, 49, 50, 51, 31, 50, 31, 50, 51, 31, 32, 33, 49, 26, 37, 50, 42, 44, 45, 44, 45, 44, 47, 43, 46, 48, 46, 48, 46, 48, 50, 52, 54, 50, 53, 54, 50, 52, 54, 56, 56, 56, 56, 60, 56, 61, 62, 63, 55, 56, 55, 55, 57, 60, 58, 59, 59, 61, 64]');
       const numNodes = initialNodeColors ? initialNodeColors.length : 0;
       const numLinks = initialLinkColors ? initialLinkColors.length : 0;

       if (numNodes === 0) { console.error("Node color data is empty!"); return; }

       // --- Get Original Colors (Keep helper functions) ---
       function getOriginalNodeColor(nodeIndex, figureData) { /* ... same as before ... */
           try { if (!figureData || !figureData[0] || !figureData[0].node || !figureData[0].node.customdata) return initialNodeColors[nodeIndex]; const customData = figureData[0].node.customdata[nodeIndex]; if (customData && customData.length > 1 && typeof customData[1] === 'string') { return customData[1]; } } catch (e) { console.warn('Error getting node customdata', nodeIndex, e); } return initialNodeColors[nodeIndex];
       }
       function getOriginalLinkColor(linkIndex, figureData) { /* ... same as before ... */
            try { if (!figureData || !figureData[0] || !figureData[0].link || !figureData[0].link.customdata) return initialLinkColors[linkIndex]; const customData = figureData[0].link.customdata[linkIndex]; if (customData && customData.length > 1 && typeof customData[1] === 'string') { return customData[1]; } } catch (e) { console.warn('Error getting link customdata', linkIndex, e); } return initialLinkColors[linkIndex];
       }

       // --- Graph Traversal Functions ---
       function findFullPath(startNodeIndex) {
           let nodesToHighlight = new Set([startNodeIndex]);
           let linksToHighlight = new Set();

           // Downstream traversal (BFS style using queue)
           let queue = [startNodeIndex];
           let visitedDownstream = new Set([startNodeIndex]); // Prevent cycles
           while (queue.length > 0) {
               let currentNode = queue.shift();
               for (let i = 0; i < numLinks; i++) {
                   if (linkSources[i] === currentNode) { // Link originates from current node
                       linksToHighlight.add(i);
                       let targetNode = linkTargets[i];
                       if (!visitedDownstream.has(targetNode)) {
                           visitedDownstream.add(targetNode);
                           nodesToHighlight.add(targetNode);
                           queue.push(targetNode);
                       }
                   }
               }
           }

           // Upstream traversal (BFS style using queue)
           queue = [startNodeIndex];
           let visitedUpstream = new Set([startNodeIndex]); // Prevent cycles
           while (queue.length > 0) {
               let currentNode = queue.shift();
               for (let i = 0; i < numLinks; i++) {
                   if (linkTargets[i] === currentNode) { // Link points to current node
                       linksToHighlight.add(i);
                       let sourceNode = linkSources[i];
                       if (!visitedUpstream.has(sourceNode)) {
                           visitedUpstream.add(sourceNode);
                           nodesToHighlight.add(sourceNode);
                           queue.push(sourceNode);
                       }
                   }
               }
           }
           return { nodes: nodesToHighlight, links: linksToHighlight };
       }


       // --- Hover Event Handler ---
       graphDiv.on('plotly_hover', function(eventData) {
           if (!eventData || !eventData.points || eventData.points.length === 0 || !graphDiv._fullData) { return; }
           const point = eventData.points[0];
           const currentFigure = graphDiv._fullData;
           let hoveredNodeIndex = -1, hoveredLinkIndex = -1;

           // Determine hover target (keep previous logic)
            if (point.hasOwnProperty('pointNumber')) { if (point.customdata && Array.isArray(point.customdata) && point.customdata.length === 2) { if (typeof point.customdata[1] === 'string' && point.customdata[1].startsWith('#')) { hoveredNodeIndex = point.pointNumber; } else if (typeof point.customdata[1] === 'string' && point.customdata[1].startsWith('rgba')) { hoveredLinkIndex = point.pointNumber; } } if (hoveredNodeIndex === -1 && hoveredLinkIndex === -1 && point.hasOwnProperty('label')) { hoveredNodeIndex = point.pointNumber; } if (hoveredNodeIndex === -1 && hoveredLinkIndex === -1 && point.hasOwnProperty('source')) { hoveredLinkIndex = point.pointNumber; } }
            // Do nothing if target unknown
            if (hoveredNodeIndex === -1 && hoveredLinkIndex === -1) { return; }

           let newNodeColors = Array.from(initialNodeColors);
           let newLinkColors = Array.from(initialLinkColors);

           // --- Highlighting Logic ---
           if (hoveredNodeIndex !== -1) {
               // Find the FULL path
               const fullPath = findFullPath(hoveredNodeIndex);

               // Apply colors to the full path nodes
               fullPath.nodes.forEach(nodeIdx => {
                   if (nodeIdx >= 0 && nodeIdx < numNodes) { // Bounds check
                       newNodeColors[nodeIdx] = getOriginalNodeColor(nodeIdx, currentFigure);
                   }
               });
               // Apply colors to the full path links
               fullPath.links.forEach(linkIdx => {
                  if (linkIdx >= 0 && linkIdx < numLinks) { // Bounds check
                     newLinkColors[linkIdx] = getOriginalLinkColor(linkIdx, currentFigure);
                   }
               });

           } else if (hoveredLinkIndex !== -1) {
               // Keep link hover simple: highlight link and direct nodes only
               newLinkColors[hoveredLinkIndex] = getOriginalLinkColor(hoveredLinkIndex, currentFigure);
               const sourceIndex = linkSources[hoveredLinkIndex];
               const targetIndex = linkTargets[hoveredLinkIndex];
               if (sourceIndex >= 0 && sourceIndex < numNodes) { newNodeColors[sourceIndex] = getOriginalNodeColor(sourceIndex, currentFigure); }
               if (targetIndex >= 0 && targetIndex < numNodes) { newNodeColors[targetIndex] = getOriginalNodeColor(targetIndex, currentFigure); }
           }

           // Apply the updated colors using restyle
           try { Plotly.restyle(graphDiv, {'node.color': [newNodeColors],'link.color': [newLinkColors]}, [0]); }
           catch (e) { console.error("Error during Plotly.restyle on hover:", e); }
       });

       // --- Unhover Event Handler (Keep the same) ---
       graphDiv.on('plotly_unhover', function(eventData) {
            try { Plotly.restyle(graphDiv, {'node.color': [initialNodeColors],'link.color': [initialLinkColors]}, [0]); }
            catch (e) { console.error("Error during Plotly.restyle on unhover:", e); }
       });

       console.log("Hover events attached successfully (Full Path).");

    } // End of initSankeyHoverFullPath function

    // Run the initialization function when the DOM is ready
    if (document.readyState !== 'loading') { initSankeyHoverFullPath(); }
    else { document.addEventListener('DOMContentLoaded', initSankeyHoverFullPath); }


                        })                };                            </script>        </div>
</body>
</html>